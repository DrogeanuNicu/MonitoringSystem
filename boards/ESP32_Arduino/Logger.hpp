#pragma once

/**************************************************************************************************
 *                                        Include Files                                           *
 *************************************************************************************************/
#include "Arduino.h"

#include "Config.hpp"

/**************************************************************************************************
 *                                          Macros                                               *
 *************************************************************************************************/
/* TODO: Add severity level to filter logs */
#ifdef DEBUG_SERIAL_LOG
#define LOG(...) Logger_Log(__VA_ARGS__)
#define LOG_UNSAFE(...) Logger_LogUnsafe(__VA_ARGS__)
#else
#define LOG(...)
#endif

#define PRINT_BUFFER_SIZE (1024U)

/**************************************************************************************************
 *                                   Typedefs/Structs/Enums                                      *
 *************************************************************************************************/

/**************************************************************************************************
 *                                        Constants                                              *
 *************************************************************************************************/

/**************************************************************************************************
 *                                      Global Variables                                         *
 *************************************************************************************************/

/**************************************************************************************************
 *                                    Function Prototypes                                        *
 *************************************************************************************************/
void Logger_Init(uint32_t BaudRate);
#ifdef DEBUG_SERIAL_LOG
void Logger_Log(const char *Format, ...);
void Logger_LogUnsafe(const char *Format, ...);
bool Logger_TakeSemaphore(void);
void Logger_GiveSemaphore(void);
#endif
